{% extends 'games/base.html' %}

{% block content %}
    <h1>Страница для анализа</h1>

    <div>
        <h2>Dota:</h2>
        {% if user.talantuser.dota_result %}
            <p id="dota-info" style="display: none"></p>
            <div id="dota-score" class="">
                <div class="score-line">
                    <p>Общий score: </p>
                    <p id="dota-score-score">{{ dota_result.score }}</p>
                </div>

                <div class="score-line">
                    <p>Командный score: </p>
                    <p id="dota-role-score">{{ dota_result.role }}</p>
                </div>

                <div class="score-line">
                    <p>Сравнительный с другими игроками score: </p>
                    <p id="dota-comparing_skill-score">{{ dota_result.comparing_skill }}</p>
                </div>

                <div class="score-line">
                    <p>Score полезности: </p>
                    <p id="dota-benefit-score">{{ dota_result.benefit }}</p>
                </div>

                <div class="score-line">
                    <p>Процент участия в командных убийствах: </p>
                    <p id="dota-frequency_fight-score">{{ dota_result.frequency_fight }}</p>
                    <p>%</p>
                </div>
            </div>
        {% else %}
            <p id="dota-info">Не проанализировано</p>
            <div id="dota-score" class="" style="display: none">
                <div class="score-line">
                    <p>Общий score: </p>
                    <p id="dota-score-score"></p>
                </div>

                <div class="score-line">
                    <p>Командный score: </p>
                    <p id="dota-role-score"></p>
                </div>

                <div class="score-line">
                    <p>Сравнительный с другими игроками score: </p>
                    <p id="dota-comparing_skill-score"></p>
                </div>

                <div class="score-line">
                    <p>Score полезности: </p>
                    <p id="dota-benefit-score"></p>
                </div>

                <div class="score-line">
                    <p>Процент участия в командных убийствах: </p>
                    <p id="dota-frequency_fight-score"></p>
                    <p>%</p>
                </div>
            </div>
        {% endif %}


        <input type="button" id="dota_process" class="btn btn-primary score-button" value="Начать анализ"/>
    </div>


    <div>
        <h2>CSGO:</h2>
        {% if user.talantuser.cs_result %}
            <p id="cs-info" style="display: none"></p>
            <div id="cs-score" class="">
                <div class="score-line">
                    <p>Общий score: </p>
                    <p id="cs-score-score">{{ cs_result.score }}</p>
                </div>

                <div class="score-line">
                    <p>Отношение убийств к смертям: </p>
                    <p id="cs-kd-score">{{ cs_result.kd }}</p>
                </div>

                <div class="score-line">
                    <p>Среднее скор в игре: </p>
                    <p id="cs-avg_cs-score">{{ cs_result.avg_cs }}</p>
                </div>

                <div class="score-line">
                    <p>Количество раундов, в которых игрок ставит ил обезвреживает бомбу: </p>
                    <p id="cs-avg_plant_defuse-score">{{ cs_result.avg_plant_defuse }}</p>
                </div>

                <div class="score-line">
                    <p>Количество раундов, в которых игрок скидывает оружие противнику: </p>
                    <p id="cs-avg_give_weapon-score">{{ cs_result.avg_give_weapon }}</p>
                </div>

                <div class="score-line">
                    <p>Каждый раунд ты мвп: </p>
                    <p id="cs-avg_mvp-score">{{ cs_result.avg_mvp }}</p>
                </div>
            </div>
        {% else %}
            <p id="cs-info">Не проанализировано</p>
            <div id="cs-score" class="" style="display: none">
                <div class="score-line">
                    <p>Общий score: </p>
                    <p id="cs-score-score"></p>
                </div>

                <div class="score-line">
                    <p>Отношение убийств к смертям: </p>
                    <p id="cs-kd-score"></p>
                </div>

                <div class="score-line">
                    <p>Среднее скор в игре: </p>
                    <p id="cs-avg_cs-score"></p>
                </div>

                <div class="score-line">
                    <p>Количество раундов, в которых игрок ставит ил обезвреживает бомбу: </p>
                    <p id="cs-avg_plant_defuse-score"></p>
                </div>

                <div class="score-line">
                    <p>Количество раундов, в которых игрок скидывает оружие противнику: </p>
                    <p id="cs-avg_give_weapon-score"></p>
                </div>

                <div class="score-line">
                    <p>В среднем, каждый n раундов ты мвп: </p>
                    <p id="cs-avg_mvp-score"></p>
                </div>
            </div>
        {% endif %}


        <input type="button" id="cs_process" class="btn btn-primary score-button" value="Начать анализ"/>
    </div>

    <script>
        let temp_task_dota_id = "{{ user.talantuser.dota_task }}";
        let temp_task_cs_id = "{{ user.talantuser.cs_task }}";
        let temp_csrf_token = "{{ csrf_token }}";
        let temp_dota_start_url = "{% url 'analyse-dota' %}";
        let temp_cs_start_url = "{% url 'analyse-cs' %}";
    </script>
{% endblock %}



{% block scripts %}
    {% load static %}
    <script src="{% static 'games/js/analyse.js' %}"></script>
{% endblock %}

{% block styles %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'games/css/analyse.css' %}">
{% endblock %}
